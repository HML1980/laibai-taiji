# -*- coding: utf-8 -*-
"""
ç±ŸæŸå¤ªæ¥µæ˜“å  - å…«å¦èˆ‡å…­åå››å¦è³‡æ–™
"""

TRIGRAMS = {
    'ä¹¾': {'symbol': 'â˜°', 'nature': 'å¤©', 'element': 'é‡‘', 'number': 1},
    'å…Œ': {'symbol': 'â˜±', 'nature': 'æ¾¤', 'element': 'é‡‘', 'number': 2},
    'é›¢': {'symbol': 'â˜²', 'nature': 'ç«', 'element': 'ç«', 'number': 3},
    'éœ‡': {'symbol': 'â˜³', 'nature': 'é›·', 'element': 'æœ¨', 'number': 4},
    'å·½': {'symbol': 'â˜´', 'nature': 'é¢¨', 'element': 'æœ¨', 'number': 5},
    'åŽ': {'symbol': 'â˜µ', 'nature': 'æ°´', 'element': 'æ°´', 'number': 6},
    'è‰®': {'symbol': 'â˜¶', 'nature': 'å±±', 'element': 'åœŸ', 'number': 7},
    'å¤': {'symbol': 'â˜·', 'nature': 'åœ°', 'element': 'åœŸ', 'number': 8},
}

HEXAGRAMS = {
    ('ä¹¾', 'ä¹¾'): ('ä¹¾ç‚ºå¤©', 'ä·€', 'å¤§å‰', 'é‡‘'),
    ('ä¹¾', 'å·½'): ('å¤©é¢¨å§¤', 'ä·«', 'å¹³', 'é‡‘'),
    ('ä¹¾', 'è‰®'): ('å¤©å±±é¯', 'ä· ', 'å¹³', 'é‡‘'),
    ('ä¹¾', 'å¤'): ('å¤©åœ°å¦', 'ä·‹', 'å‡¶', 'é‡‘'),
    ('å·½', 'å¤'): ('é¢¨åœ°è§€', 'ä·“', 'å¹³', 'æœ¨'),
    ('è‰®', 'å¤'): ('å±±åœ°å‰', 'ä·–', 'å‡¶', 'åœŸ'),
    ('é›¢', 'å¤'): ('ç«åœ°æ™‰', 'ä·¢', 'å‰', 'ç«'),
    ('é›¢', 'ä¹¾'): ('ç«å¤©å¤§æœ‰', 'ä·', 'å¤§å‰', 'ç«'),
    ('å¤', 'å¤'): ('å¤ç‚ºåœ°', 'ä·', 'å‰', 'åœŸ'),
    ('å¤', 'éœ‡'): ('åœ°é›·å¾©', 'ä·—', 'å‰', 'åœŸ'),
    ('å¤', 'åŽ'): ('åœ°æ°´å¸«', 'ä·†', 'å¹³', 'åœŸ'),
    ('å¤', 'å…Œ'): ('åœ°æ¾¤è‡¨', 'ä·’', 'å‰', 'åœŸ'),
    ('éœ‡', 'éœ‡'): ('éœ‡ç‚ºé›·', 'ä·²', 'å¹³', 'æœ¨'),
    ('éœ‡', 'å¤'): ('é›·åœ°è±«', 'ä·', 'å‰', 'æœ¨'),
    ('éœ‡', 'åŽ'): ('é›·æ°´è§£', 'ä·§', 'å‰', 'æœ¨'),
    ('éœ‡', 'å·½'): ('é›·é¢¨æ†', 'ä·Ÿ', 'å‰', 'æœ¨'),
    ('å·½', 'å·½'): ('å·½ç‚ºé¢¨', 'ä·¸', 'å¹³', 'æœ¨'),
    ('å·½', 'ä¹¾'): ('é¢¨å¤©å°ç•œ', 'ä·ˆ', 'å‰', 'æœ¨'),
    ('å·½', 'é›¢'): ('é¢¨ç«å®¶äºº', 'ä·¤', 'å‰', 'æœ¨'),
    ('å·½', 'éœ‡'): ('é¢¨é›·ç›Š', 'ä·©', 'å¤§å‰', 'æœ¨'),
    ('åŽ', 'åŽ'): ('åŽç‚ºæ°´', 'ä·œ', 'å‡¶', 'æ°´'),
    ('åŽ', 'å…Œ'): ('æ°´æ¾¤ç¯€', 'ä·»', 'å¹³', 'æ°´'),
    ('åŽ', 'éœ‡'): ('æ°´é›·å±¯', 'ä·‚', 'å‡¶', 'æ°´'),
    ('åŽ', 'é›¢'): ('æ°´ç«æ—¢æ¿Ÿ', 'ä·¾', 'å‰', 'æ°´'),
    ('é›¢', 'é›¢'): ('é›¢ç‚ºç«', 'ä·', 'å‰', 'ç«'),
    ('é›¢', 'è‰®'): ('ç«å±±æ—…', 'ä··', 'å¹³', 'ç«'),
    ('é›¢', 'å·½'): ('ç«é¢¨é¼Ž', 'ä·±', 'å¤§å‰', 'ç«'),
    ('é›¢', 'åŽ'): ('ç«æ°´æœªæ¿Ÿ', 'ä·¿', 'å‡¶', 'ç«'),
    ('è‰®', 'è‰®'): ('è‰®ç‚ºå±±', 'ä·³', 'å¹³', 'åœŸ'),
    ('è‰®', 'é›¢'): ('å±±ç«è³', 'ä·•', 'å‰', 'åœŸ'),
    ('è‰®', 'ä¹¾'): ('å±±å¤©å¤§ç•œ', 'ä·™', 'å¤§å‰', 'åœŸ'),
    ('è‰®', 'å…Œ'): ('å±±æ¾¤æ', 'ä·¨', 'å¹³', 'åœŸ'),
    ('å…Œ', 'å…Œ'): ('å…Œç‚ºæ¾¤', 'ä·¹', 'å‰', 'é‡‘'),
    ('å…Œ', 'åŽ'): ('æ¾¤æ°´å›°', 'ä·®', 'å‡¶', 'é‡‘'),
    ('å…Œ', 'å¤'): ('æ¾¤åœ°èƒ', 'ä·¬', 'å‰', 'é‡‘'),
    ('å…Œ', 'è‰®'): ('æ¾¤å±±å’¸', 'ä·ž', 'å‰', 'é‡‘'),
    ('å¤', 'ä¹¾'): ('åœ°å¤©æ³°', 'ä·Š', 'å¤§å‰', 'åœŸ'),
    ('éœ‡', 'ä¹¾'): ('é›·å¤©å¤§å£¯', 'ä·¡', 'å‰', 'æœ¨'),
    ('åŽ', 'ä¹¾'): ('æ°´å¤©éœ€', 'ä·„', 'å‰', 'æ°´'),
    ('å…Œ', 'ä¹¾'): ('æ¾¤å¤©å¤¬', 'ä·ª', 'å‰', 'é‡‘'),
    ('åŽ', 'å¤'): ('æ°´åœ°æ¯”', 'ä·‡', 'å‰', 'æ°´'),
    ('ä¹¾', 'éœ‡'): ('å¤©é›·ç„¡å¦„', 'ä·˜', 'å¹³', 'é‡‘'),
    ('é›¢', 'éœ‡'): ('ç«é›·å™¬å—‘', 'ä·”', 'å¹³', 'ç«'),
    ('è‰®', 'éœ‡'): ('å±±é›·é ¤', 'ä·š', 'å¹³', 'åœŸ'),
    ('è‰®', 'å·½'): ('å±±é¢¨è ±', 'ä·‘', 'å‡¶', 'åœŸ'),
    ('å…Œ', 'é›¢'): ('æ¾¤ç«é©', 'ä·°', 'å‰', 'é‡‘'),
    ('éœ‡', 'é›¢'): ('é›·ç«è±', 'ä·¶', 'å‰', 'æœ¨'),
    ('å¤', 'é›¢'): ('åœ°ç«æ˜Žå¤·', 'ä·£', 'å‡¶', 'åœŸ'),
    ('å·½', 'åŽ'): ('é¢¨æ°´æ¸™', 'ä·º', 'å¹³', 'æœ¨'),
    ('ä¹¾', 'åŽ'): ('å¤©æ°´è¨Ÿ', 'ä·…', 'å‡¶', 'é‡‘'),
    ('ä¹¾', 'é›¢'): ('å¤©ç«åŒäºº', 'ä·Œ', 'å‰', 'é‡‘'),
    ('é›¢', 'å…Œ'): ('ç«æ¾¤ç½', 'ä·¥', 'å‡¶', 'ç«'),
    ('ä¹¾', 'å…Œ'): ('å¤©æ¾¤å±¥', 'ä·‰', 'å‰', 'é‡‘'),
    ('å·½', 'å…Œ'): ('é¢¨æ¾¤ä¸­å­š', 'ä·¼', 'å‰', 'æœ¨'),
    ('å·½', 'è‰®'): ('é¢¨å±±æ¼¸', 'ä·´', 'å‰', 'æœ¨'),
    ('åŽ', 'è‰®'): ('æ°´å±±è¹‡', 'ä·¦', 'å‡¶', 'æ°´'),
    ('å¤', 'è‰®'): ('åœ°å±±è¬™', 'ä·Ž', 'å¤§å‰', 'åœŸ'),
    ('éœ‡', 'è‰®'): ('é›·å±±å°éŽ', 'ä·½', 'å¹³', 'æœ¨'),
    ('éœ‡', 'å…Œ'): ('é›·æ¾¤æ­¸å¦¹', 'ä·µ', 'å‡¶', 'æœ¨'),
    ('å¤', 'å·½'): ('åœ°é¢¨å‡', 'ä·­', 'å‰', 'åœŸ'),
    ('åŽ', 'å·½'): ('æ°´é¢¨äº•', 'ä·¯', 'å¹³', 'æ°´'),
    ('å…Œ', 'å·½'): ('æ¾¤é¢¨å¤§éŽ', 'ä·›', 'å‡¶', 'é‡‘'),
    ('å…Œ', 'éœ‡'): ('æ¾¤é›·éš¨', 'ä·', 'å‰', 'é‡‘'),
    ('è‰®', 'åŽ'): ('å±±æ°´è’™', 'ä·ƒ', 'å¹³', 'åœŸ'),
}

FORTUNE_LEVELS = {
    'å¤§å‰': {'score': 95, 'color': '#FFD700', 'description': 'é‹å‹¢æ¥µä½³ï¼Œè¬äº‹äº¨é€š'},
    'å‰': {'score': 75, 'color': '#4CAF50', 'description': 'é‹å‹¢è‰¯å¥½ï¼Œé †åˆ©é€²è¡Œ'},
    'å¹³': {'score': 50, 'color': '#2196F3', 'description': 'é‹å‹¢å¹³ç©©ï¼Œå®œå®ˆä¸å®œé€²'},
    'å‡¶': {'score': 25, 'color': '#F44336', 'description': 'é‹å‹¢ä¸ä½³ï¼Œå®œè¬¹æ…Žè¡Œäº‹'},
}

CATEGORIES = {
    'love': {'name': 'æ„Ÿæƒ…å§»ç·£', 'emoji': 'ðŸ’•'},
    'career': {'name': 'äº‹æ¥­å·¥ä½œ', 'emoji': 'ðŸ’¼'},
    'wealth': {'name': 'è²¡é‹æŠ•è³‡', 'emoji': 'ðŸ’°'},
    'health': {'name': 'å¥åº·å¹³å®‰', 'emoji': 'ðŸ¥'},
    'study': {'name': 'è€ƒè©¦å­¸æ¥­', 'emoji': 'ðŸ“š'},
    'property': {'name': 'ç½®ç”¢æ¬é·', 'emoji': 'ðŸ '},
    'cooperation': {'name': 'åˆä½œæ´½è«‡', 'emoji': 'ðŸ¤'},
    'other': {'name': 'å…¶ä»–', 'emoji': 'ðŸ”®'},
}

def get_hexagram(upper_trigram: str, lower_trigram: str) -> dict:
    key = (upper_trigram, lower_trigram)
    if key in HEXAGRAMS:
        name, symbol, fortune, element = HEXAGRAMS[key]
        return {
            'name': name, 'symbol': symbol, 'fortune': fortune, 'element': element,
            'upper': upper_trigram, 'lower': lower_trigram,
            'upper_info': TRIGRAMS[upper_trigram], 'lower_info': TRIGRAMS[lower_trigram],
        }
    return None
