# -*- coding: utf-8 -*-
"""
ç±ŸæŸå¤ªæ¥µæ˜“å  - æ°´æ™¶æ¨è–¦è³‡æ–™
"""

CRYSTALS = {
    'ç™½æ°´æ™¶': {'element': 'é‡‘', 'effects': ['æ·¨åŒ–', 'èƒ½é‡', 'æ¸…æ™°'], 'description': 'æ°´æ™¶ä¹‹ç‹ï¼Œæ·¨åŒ–è² èƒ½é‡ï¼Œæå‡å°ˆæ³¨åŠ›'},
    'éˆ¦æ™¶': {'element': 'é‡‘', 'effects': ['æ‹›è²¡', 'é ˜å°åŠ›', 'äº‹æ¥­'], 'description': 'æ‹›æ­£è²¡ã€å¢å¼·é ˜å°åŠ›ï¼Œäº‹æ¥­é‹å¼·åŠ›æå‡'},
    'é»ƒæ°´æ™¶': {'element': 'åœŸ', 'effects': ['æ‹›è²¡', 'è‡ªä¿¡', 'ç©©å®š'], 'description': 'æ‹›åè²¡ã€å¢å¼·è‡ªä¿¡ï¼Œå¸¶ä¾†æ„å¤–ä¹‹è²¡'},
    'ç´«æ°´æ™¶': {'element': 'ç«', 'effects': ['æ™ºæ…§', 'å†·éœ', 'éˆæ€§'], 'description': 'å¢å¼·è¨˜æ†¶åŠ›èˆ‡æ™ºæ…§ï¼Œå®‰å®šå¿ƒç¥'},
    'ç²‰æ™¶': {'element': 'ç«', 'effects': ['æ¡ƒèŠ±', 'äººç·£', 'æ„›æƒ…'], 'description': 'æ‹›æ¡ƒèŠ±ã€å¢é€²äººç·£ï¼Œä¿ƒé€²æ„›æƒ…é‹'},
    'ç¶ å¹½éˆ': {'element': 'æœ¨', 'effects': ['äº‹æ¥­', 'æ­£è²¡', 'è²´äºº'], 'description': 'æ‹›è²´äººã€æå‡äº‹æ¥­é‹ï¼Œé©åˆå‰µæ¥­è€…'},
    'é»‘æ›œçŸ³': {'element': 'æ°´', 'effects': ['é¿é‚ª', 'ä¿è­·', 'ç©©å®š'], 'description': 'å¼·åŠ›é¿é‚ªæ“‹ç…ï¼Œä¿è­·èƒ½é‡å ´'},
    'è™çœ¼çŸ³': {'element': 'åœŸ', 'effects': ['å‹‡æ°£', 'ä¿¡å¿ƒ', 'ç©©å®š'], 'description': 'å¢å¼·å‹‡æ°£èˆ‡ä¿¡å¿ƒï¼Œç©©å®šæƒ…ç·’'},
    'æœˆå…‰çŸ³': {'element': 'æ°´', 'effects': ['æ„Ÿæƒ…', 'ç›´è¦º', 'æŸ”å’Œ'], 'description': 'å¢å¼·ç›´è¦ºåŠ›ï¼Œä¿ƒé€²æ„Ÿæƒ…å’Œè«§'},
    'ç´…ç´‹çŸ³': {'element': 'ç«', 'effects': ['ç†±æƒ…', 'æ„›æƒ…', 'è‡ªæ„›'], 'description': 'ç™‚ç™’å¿ƒéˆå‰µå‚·ï¼Œæ‹›ä¾†çœŸæ„›'},
    'è¢çŸ³': {'element': 'æœ¨', 'effects': ['å°ˆæ³¨', 'æ€è€ƒ', 'å­¸ç¿’'], 'description': 'å¢å¼·å°ˆæ³¨åŠ›èˆ‡æ€è€ƒèƒ½åŠ›ï¼Œå­¸æ¥­å¿…å‚™'},
    'æµ·è—å¯¶': {'element': 'æ°´', 'effects': ['æºé€š', 'å†·éœ', 'æ—…è¡Œ'], 'description': 'å¢å¼·è¡¨é”èƒ½åŠ›ï¼Œå‡ºè¡Œå¹³å®‰'},
}

CATEGORY_CRYSTALS = {
    'love': ['ç²‰æ™¶', 'ç´…ç´‹çŸ³', 'æœˆå…‰çŸ³'],
    'career': ['ç¶ å¹½éˆ', 'éˆ¦æ™¶', 'è™çœ¼çŸ³'],
    'wealth': ['é»ƒæ°´æ™¶', 'éˆ¦æ™¶', 'ç¶ å¹½éˆ'],
    'health': ['ç™½æ°´æ™¶', 'ç´«æ°´æ™¶', 'é»‘æ›œçŸ³'],
    'study': ['ç´«æ°´æ™¶', 'è¢çŸ³', 'ç™½æ°´æ™¶'],
    'property': ['é»ƒæ°´æ™¶', 'è™çœ¼çŸ³', 'ç™½æ°´æ™¶'],
    'cooperation': ['æµ·è—å¯¶', 'ç¶ å¹½éˆ', 'è™çœ¼çŸ³'],
    'other': ['ç™½æ°´æ™¶', 'é»‘æ›œçŸ³', 'ç´«æ°´æ™¶'],
}

FORTUNE_CRYSTALS = {
    'å¤§å‰': ['éˆ¦æ™¶', 'é»ƒæ°´æ™¶', 'ç¶ å¹½éˆ'],
    'å‰': ['ç´«æ°´æ™¶', 'ç™½æ°´æ™¶', 'ç²‰æ™¶'],
    'å¹³': ['ç™½æ°´æ™¶', 'è¢çŸ³', 'æµ·è—å¯¶'],
    'å‡¶': ['é»‘æ›œçŸ³', 'è™çœ¼çŸ³', 'ç´«æ°´æ™¶'],
}

def recommend_crystal(hexagram_element: str, category: str, fortune: str) -> dict:
    category_list = CATEGORY_CRYSTALS.get(category, ['ç™½æ°´æ™¶'])
    fortune_list = FORTUNE_CRYSTALS.get(fortune, ['ç™½æ°´æ™¶'])
    for crystal in category_list:
        if crystal in fortune_list:
            return {'name': crystal, 'info': CRYSTALS[crystal]}
    return {'name': category_list[0], 'info': CRYSTALS[category_list[0]]}

def format_crystal_basic(crystal: dict) -> str:
    return f"ğŸ’ é–‹é‹æ°´æ™¶ï¼š{crystal['name']}\n{crystal['info']['description']}"
